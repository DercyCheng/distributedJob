import{d as e,a,j as s,c as l,e as t,q as r,l as c,w as u,n as d,f as n,A as o,E as i,g as v,p,o as f,i as m,t as _,b,D as h,_ as y}from"./index-462fafd6.js";import{a as k}from"./record-f885688b.js";const g={class:"record-detail-container"},w={class:"main-content"},N={class:"code-container"},j={class:"code-block"},D={class:"card-header"},I={class:"code-container"},q=y(e({__name:"Detail",setup(e){const y=n(),q=o(),x=a(!1),J=a(null),O=a(parseInt(q.params.id)),S=()=>{y.back()},T=e=>{try{const a=JSON.parse(e);return JSON.stringify(a,null,2)}catch(a){return e}};return s((()=>{(async()=>{if(O.value){x.value=!0;try{const e=await k(O.value);J.value=e}catch(e){i.error("获取执行记录详情失败")}finally{x.value=!1}}else i.error("记录ID无效")})()})),(e,a)=>{const s=v("el-page-header"),n=v("el-descriptions-item"),o=v("el-tag"),i=v("el-descriptions"),y=v("el-card"),k=p("loading");return f(),l("div",g,[t(s,{onBack:S,title:"返回",content:`执行记录详情 #${O.value}`},null,8,["content"]),r((f(),l("div",w,[J.value?(f(),c(y,{key:0,shadow:"never"},{default:u((()=>[t(i,{title:"基本信息",column:2,border:""},{default:u((()=>[t(n,{label:"任务名称"},{default:u((()=>[m(_(J.value.taskName),1)])),_:1}),t(n,{label:"所属部门"},{default:u((()=>[m(_(J.value.departmentName),1)])),_:1}),t(n,{label:"执行状态"},{default:u((()=>[t(o,{type:"success"===J.value.status?"success":"danger"},{default:u((()=>[m(_("success"===J.value.status?"成功":"失败"),1)])),_:1},8,["type"])])),_:1}),t(n,{label:"执行耗时"},{default:u((()=>[m(_(J.value.duration)+" ms",1)])),_:1}),t(n,{label:"开始时间"},{default:u((()=>[m(_(J.value.startTime),1)])),_:1}),t(n,{label:"结束时间"},{default:u((()=>[m(_(J.value.endTime),1)])),_:1})])),_:1})])),_:1})):d("",!0),J.value?(f(),c(y,{key:1,shadow:"never",class:"mt-20"},{header:u((()=>a[0]||(a[0]=[b("div",{class:"card-header"},[b("span",null,"请求信息")],-1)]))),default:u((()=>[b("div",N,[b("pre",j,_(T(J.value.request)),1)])])),_:1})):d("",!0),J.value?(f(),c(y,{key:2,shadow:"never",class:"mt-20"},{header:u((()=>[b("div",D,[b("span",null,_("success"===J.value.status?"响应信息":"错误信息"),1)])])),default:u((()=>[b("div",I,[b("pre",{class:h(["code-block","success"===J.value.status?"success":"error"])},_("success"===J.value.status?T(J.value.response):J.value.error),3)])])),_:1})):d("",!0)])),[[k,x.value]])])}}}),[["__scopeId","data-v-12cea16c"]]);export{q as default};
